# ChatGPT Instructor Assistant - UI Enhancement Specification

Build upon the existing modular Instructor Assistant application. This spec focuses on refinements and missing features based on the current implementation.

## ğŸ¯ Current State Analysis

**What's Already Built:**
- âœ… Home dashboard with feature cards
- âœ… Research Papers page (empty state)
- âœ… Notes Editor with sidebar
- âœ… Question Sets page with generation/upload tabs
- âœ… Qwen Agent page (chat interface with tools)
- âœ… RAG System page (query interface)
- âœ… Navigation header with pill-style buttons
- âœ… Floating chat bubble (bottom-right)
- âœ… Dark blue gradient sidebar design
- âœ… Consistent white card layouts

**What Needs Enhancement:**
- Research Papers functionality (upload, preview, sections)
- Paper summarization workflow
- Integration between pages
- Chat streaming effects
- More polished interactions

---

## ğŸ“š Tech Stack (Current)

- React 18 + TypeScript
- Vite
- Tailwind CSS
- React Router v6
- Mock backend responses
- No real API integrations

---

## ğŸ¨ Design System (Maintain Consistency)

**Colors:**
- Primary Blue: `#3B82F6` (your current button color)
- Dark Blue Gradient: `from-blue-900 to-blue-700` (sidebar)
- Dark Background: `#1E293B` (content areas)
- Light Background: `#F8FAFC` (main areas)
- White Cards: `#FFFFFF` with subtle shadows

**Typography:**
- Headers: Bold, large (text-2xl, text-3xl)
- Body: Medium weight (text-base)
- Descriptions: Light gray (text-gray-600)

**Components:**
- Pill buttons with rounded-full
- Cards with rounded-xl and shadow
- Dark sidebars with gradient
- White content areas

---

## ğŸ”§ Priority Enhancements

### 1. Research Papers Page - CRITICAL UPDATES

#### Current State:
- Empty library with "Sync" button
- "View Your Research Papers" and "Download and Summarize Papers" tabs
- Empty preview area

#### Required Features:

**A. Multi-Upload Panel (Add to top)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Add Papers                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   DOI   â”‚   URL   â”‚  Title  â”‚   File   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                              â”‚
â”‚  [Paste DOI/URL/Title or drag PDF here]     â”‚
â”‚  [+ Add Another] [Upload All]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Implementation:**
- Tabbed input: DOI | URL | Title | Upload PDF
- Support multiple entries at once
- Show upload progress per paper
- Papers appear immediately in library
- Mock the metadata extraction

**B. Paper List with Metadata**

Replace "Papers (0)" with rich list:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LIBRARY                    Sync â”‚
â”‚ Papers (3)                      â”‚
â”‚                                 â”‚
â”‚ â˜‘ Attention Is All You Need    â”‚
â”‚   Vaswani et al. â€¢ 2017        â”‚
â”‚   ğŸ“„ Sections: 6 â€¢ 8 pages     â”‚
â”‚                                 â”‚
â”‚ â˜ BERT: Pre-training...        â”‚
â”‚   Devlin et al. â€¢ 2018         â”‚
â”‚   ğŸ“„ Sections: 7 â€¢ 12 pages    â”‚
â”‚                                 â”‚
â”‚ â˜ GPT-4 Technical Report       â”‚
â”‚   OpenAI â€¢ 2023                â”‚
â”‚   ğŸ“„ Sections: 8 â€¢ 100 pages   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Checkboxes for multi-select
- Click to preview
- Quick actions menu (â€¢â€¢â€¢)
- Visual selected state

**C. Tabbed Right Panel**

Replace empty preview with:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [PDF] [Sections] [Summaries]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚  When PDF tab:                       â”‚
â”‚  â€¢ Show embedded PDF viewer          â”‚
â”‚  â€¢ "Open Source" | "Fullscreen"      â”‚
â”‚                                      â”‚
â”‚  When Sections tab:                  â”‚
â”‚  â€¢ â˜ Abstract                        â”‚
â”‚  â€¢ â˜ Introduction                    â”‚
â”‚  â€¢ â˜ Methods                         â”‚
â”‚  â€¢ â˜ Results                         â”‚
â”‚  â€¢ â˜ Discussion                      â”‚
â”‚  â€¢ â˜ References                      â”‚
â”‚  [Select All] [Summarize Selected]   â”‚
â”‚                                      â”‚
â”‚  When Summaries tab:                 â”‚
â”‚  â€¢ List of saved summaries           â”‚
â”‚  â€¢ Click to open in editor           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**D. Summarization Workflow**

Add "Summarize" button that opens modal:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Summarize Papers                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Scope:                             â”‚
â”‚  â—‹ Full document(s)                 â”‚
â”‚  â—‹ Selected sections only           â”‚
â”‚                                     â”‚
â”‚  Model:                             â”‚
â”‚  â—‹ Qwen (Local) âš¡ Recommended      â”‚
â”‚  â—‹ GPT-4 (Simulated)                â”‚
â”‚  â—‹ Gemini (Simulated)               â”‚
â”‚                                     â”‚
â”‚  Style:                             â”‚
â”‚  â—‹ Brief bullet points              â”‚
â”‚  â—‹ Detailed academic                â”‚
â”‚  â—‹ Teaching/exam notes              â”‚
â”‚  â—‹ Custom: [________________]       â”‚
â”‚                                     â”‚
â”‚  [Cancel]  [Generate Summary]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After generation:**
- Open summary in modal with Markdown editor
- Live preview toggle
- Actions: Save as Note | Export MD | Copy

---

### 2. Notes Editor - ENHANCEMENTS

#### Current State:
- Working sidebar with stats
- Basic text editor
- "Create Note" button

#### Add These Features:

**A. Rich Markdown Editor**
```typescript
// Add toolbar above editor
[B] [I] [H1] [H2] [â€¢] [1.] [Link] [Code]

// Features:
- Bold, italic, headers
- Lists (bullet, numbered)
- Links and images
- Code blocks
- Live preview toggle
```

**B. Note Metadata**
- Add tags field (comma-separated)
- Show source (chat/library/rag)
- Display word count live
- Auto-save indicator

**C. Note List Improvements**
- Search/filter by tags
- Sort options (date, name)
- Preview snippet (first 50 chars)
- Visual tags as pills

---

### 3. Question Sets - ENHANCEMENTS

#### Current State:
- Two tabs: Generate | Upload
- LLM provider selector
- Empty source materials area

#### Add These Features:

**A. Source Material Selection**
```
Source Materials:
[Select from Library â–¼]

â˜‘ Attention Is All You Need
â˜‘ BERT: Pre-training...
â˜ GPT-4 Technical Report

Or upload directly:
[Upload PDF/Markdown]
```

**B. Chat-Style Generation**

In "Generate" tab:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ Question Generation Chat        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚ You: Generate 10 multiple choice   â”‚
â”‚      questions from the BERT paper â”‚
â”‚                                    â”‚
â”‚ Assistant: I'll generate questions â”‚
â”‚           about BERT's key conceptsâ”‚
â”‚           [typing indicator...]    â”‚
â”‚                                    â”‚
â”‚ [Show generated questions below]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Generated Questions:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ## Question 1                      â”‚
â”‚ What does BERT stand for?          â”‚
â”‚ - A) Bidirectional...              â”‚
â”‚ - B) Binary...                     â”‚
â”‚                                    â”‚
â”‚ [Edit] [Preview] [Save Set]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**C. Preview Mode**
- Show rendered Markdown
- Toggle between edit/preview
- Export options (PDF, Canvas)

---

### 4. Qwen Agent - ENHANCEMENTS

#### Current State:
- Working chat interface
- Tool list on left
- Quick links

#### Add These Features:

**A. Tool Status Indicators**

When agent uses a tool:
```
QWEN
ğŸ” Using Web Search...
[progress bar]

Found 5 results from DuckDuckGo
```

**B. Rich Message Actions**

Add to each assistant message:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Here's what I found about BERT... â”‚
â”‚                                  â”‚
â”‚ [ğŸ“ Save as Note] [ğŸ“‹ Copy]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**C. Navigation Commands**

Agent can route user:
```
User: "Show me my papers"
Agent: "Let me take you to the Research Library"
      [Go to Library â†’]
```

---

### 5. RAG System - ENHANCEMENTS

#### Current State:
- "Ingest PDFs" | "Query System" tabs
- Index status indicator
- Login checkbox
- Query input area

#### Add These Features:

**A. Better Query Interface**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ask about your PDF library         â”‚
â”‚                                    â”‚
â”‚ [What are the key findings in     â”‚
â”‚  the Transformer architecture?]   â”‚
â”‚                                    â”‚
â”‚ Advanced:                          â”‚
â”‚ â˜ Include citations               â”‚
â”‚ â˜ Search specific papers          â”‚
â”‚ Max chunks: [5 â–¼]                 â”‚
â”‚                                    â”‚
â”‚ [Ask Question]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**B. Answer with Citations**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Answer                          â”‚
â”‚                                    â”‚
â”‚ The Transformer architecture uses  â”‚
â”‚ self-attention mechanisms [1] to   â”‚
â”‚ process sequences in parallel [2]. â”‚
â”‚                                    â”‚
â”‚ Sources:                           â”‚
â”‚ [1] Attention Is All You Need, p.3 â”‚
â”‚ [2] Attention Is All You Need, p.5 â”‚
â”‚                                    â”‚
â”‚ [ğŸ’¬ Send to Chat] [ğŸ“ Save as Note]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 6. Global Chat Enhancement

Add a global sticky chat at the bottom of every page (except Qwen Agent):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ’¬ Ask the assistant anything...]    [Send]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior:**
- Appears on all pages
- Expands to show conversation
- Can minimize
- Persists across navigation
- Routes user to appropriate page

---

## ğŸ”— Page Integration Events

Pages should communicate via events:

```typescript
// From Library â†’ Notes
window.dispatchEvent(new CustomEvent('saveSummary', {
  detail: {
    markdown: summaryContent,
    source: 'library',
    paperTitle: 'Attention Is All You Need'
  }
}));

// From RAG â†’ Chat
window.dispatchEvent(new CustomEvent('sendToChat', {
  detail: {
    message: ragAnswer,
    citations: [...sources]
  }
}));

// From Agent â†’ Navigation
window.dispatchEvent(new CustomEvent('navigate', {
  detail: { page: '/library' }
}));
```

**Implementation:**
- Use custom events for loose coupling
- Each page listens for relevant events
- Maintain independence

---

## ğŸ“ Updated Folder Structure

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ AppShell.tsx          # Main layout
â”‚   â”œâ”€â”€ routes.tsx            
â”‚   â””â”€â”€ Header.tsx            
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â””â”€â”€ HomePage.tsx
â”‚   â”œâ”€â”€ library/
â”‚   â”‚   â”œâ”€â”€ LibraryPage.tsx
â”‚   â”‚   â”œâ”€â”€ UploadPanel.tsx        # NEW
â”‚   â”‚   â”œâ”€â”€ PaperList.tsx          # NEW
â”‚   â”‚   â”œâ”€â”€ PaperPreview.tsx       # NEW
â”‚   â”‚   â”œâ”€â”€ SectionSelector.tsx    # NEW
â”‚   â”‚   â”œâ”€â”€ SummarizeModal.tsx     # NEW
â”‚   â”‚   â””â”€â”€ SummaryEditor.tsx      # NEW
â”‚   â”œâ”€â”€ notes/
â”‚   â”‚   â”œâ”€â”€ NotesPage.tsx
â”‚   â”‚   â”œâ”€â”€ NotesList.tsx          # Enhanced
â”‚   â”‚   â”œâ”€â”€ NoteEditor.tsx         # Enhanced
â”‚   â”‚   â””â”€â”€ MarkdownToolbar.tsx    # NEW
â”‚   â”œâ”€â”€ questions/
â”‚   â”‚   â”œâ”€â”€ QuestionsPage.tsx
â”‚   â”‚   â”œâ”€â”€ GenerateTab.tsx        # Enhanced
â”‚   â”‚   â”œâ”€â”€ UploadTab.tsx
â”‚   â”‚   â””â”€â”€ SourceSelector.tsx     # NEW
â”‚   â”œâ”€â”€ agent/
â”‚   â”‚   â”œâ”€â”€ AgentPage.tsx
â”‚   â”‚   â””â”€â”€ ToolStatusIndicator.tsx # NEW
â”‚   â””â”€â”€ rag/
â”‚       â”œâ”€â”€ RAGPage.tsx
â”‚       â”œâ”€â”€ QueryInterface.tsx      # NEW
â”‚       â””â”€â”€ AnswerPanel.tsx         # NEW
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ GlobalChat.tsx              # NEW
â”‚   â”œâ”€â”€ FloatingChatBubble.tsx
â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚   â”œâ”€â”€ StreamingText.tsx           # NEW
â”‚   â””â”€â”€ PDFViewer.tsx               # NEW
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useEventBus.ts              # NEW
â”‚   â”œâ”€â”€ useLocalStorage.ts
â”‚   â””â”€â”€ useStreamingText.ts         # NEW
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ mockAPI.ts
â”‚   â”œâ”€â”€ paperService.ts             # NEW
â”‚   â””â”€â”€ summarizationService.ts     # NEW
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ paper.types.ts              # NEW
â”‚   â”œâ”€â”€ note.types.ts
â”‚   â””â”€â”€ events.types.ts             # NEW
â””â”€â”€ utils/
    â”œâ”€â”€ markdown.ts
    â””â”€â”€ eventBus.ts                 # NEW
```

---

## ğŸ¯ Implementation Priority

### Phase 1 (Critical - Do First)
1. **Research Papers Upload** - Multi-upload panel
2. **Paper List UI** - Display papers with metadata
3. **Section Selector** - Checkboxes for sections
4. **PDF Preview** - Basic viewer

### Phase 2 (High Priority)
5. **Summarization Modal** - 3-step wizard
6. **Summary Editor** - Markdown editor with preview
7. **Save to Notes** - Integration event
8. **Notes Enhancements** - Tags, search, metadata

### Phase 3 (Medium Priority)
9. **Question Generation** - Source selection + chat
10. **RAG Citations** - Answer with sources
11. **Global Chat** - Sticky bottom chat
12. **Streaming Effects** - Typewriter text

### Phase 4 (Polish)
13. **Tool Status** - Visual indicators
14. **Navigation Events** - Cross-page routing
15. **Message Actions** - Save, copy buttons
16. **Dark Mode** - Toggle (if needed)

---

## ğŸ’» Key Implementation Patterns

### 1. Mock Data Examples

```typescript
// Mock papers
export const mockPapers = [
  {
    id: 'paper-1',
    title: 'Attention Is All You Need',
    authors: ['Vaswani', 'Shazeer', 'Parmar'],
    year: 2017,
    sections: [
      { id: 'abstract', title: 'Abstract', content: '...' },
      { id: 'intro', title: 'Introduction', content: '...' },
      { id: 'methods', title: 'Methods', content: '...' },
    ],
    pdfUrl: '/mock/attention.pdf',
    pageCount: 8
  }
];

// Mock summarization
export const mockSummarize = async (
  paperIds: string[],
  sections: string[],
  model: 'qwen' | 'gpt' | 'gemini',
  style: string
): Promise<string> => {
  await delay(2000); // Simulate processing
  
  return `# Summary of ${paperIds.length} paper(s)

## Key Points
- Point 1 from the paper
- Point 2 about methodology
- Point 3 about results

## Detailed Analysis
The paper discusses...`;
};
```

### 2. Event Bus Pattern

```typescript
// hooks/useEventBus.ts
export const useEventBus = () => {
  const emit = (event: string, detail: any) => {
    window.dispatchEvent(new CustomEvent(event, { detail }));
  };

  const on = (event: string, handler: (e: CustomEvent) => void) => {
    window.addEventListener(event, handler as any);
    return () => window.removeEventListener(event, handler as any);
  };

  return { emit, on };
};

// Usage in Notes page
const { on } = useEventBus();

useEffect(() => {
  return on('saveSummary', (e) => {
    const { markdown, source, paperTitle } = e.detail;
    createNote({ content: markdown, source, title: paperTitle });
  });
}, []);
```

### 3. Streaming Text Effect

```typescript
// hooks/useStreamingText.ts
export const useStreamingText = (text: string, speed = 30) => {
  const [displayed, setDisplayed] = useState('');
  
  useEffect(() => {
    let i = 0;
    const timer = setInterval(() => {
      if (i < text.length) {
        setDisplayed(text.slice(0, i + 1));
        i++;
      } else {
        clearInterval(timer);
      }
    }, speed);
    
    return () => clearInterval(timer);
  }, [text, speed]);
  
  return displayed;
};

// Usage
const displayed = useStreamingText(message.content);
```

---

## âœ… Definition of Done

Each feature is complete when:
- [ ] UI matches the design system
- [ ] Mock API calls work with realistic delays
- [ ] TypeScript types are properly defined
- [ ] Component is responsive (mobile works)
- [ ] Loading states are visible
- [ ] Error states are handled
- [ ] Integration events work (if applicable)
- [ ] No console errors

---

## ğŸš€ Quick Start Checklist

1. **Review existing code**
   - Understand current routing
   - Check existing components
   - Note the styling patterns

2. **Start with Library page**
   - Add upload panel component
   - Create paper list component
   - Implement section selector
   - Add summarization modal

3. **Connect to Notes**
   - Implement event emission
   - Add event listener in Notes
   - Test the integration

4. **Enhance remaining pages**
   - Follow the same patterns
   - Reuse components
   - Maintain consistency

---

## ğŸ¨ UI Consistency Checklist

For every new component:
- [ ] Uses Tailwind classes (no custom CSS)
- [ ] Matches existing color scheme
- [ ] Uses consistent spacing (p-4, p-6, p-8)
- [ ] Has proper rounded corners (rounded-xl)
- [ ] Includes hover states
- [ ] Has loading states
- [ ] Handles empty states
- [ ] Works on mobile (responsive)

---

**This spec builds on your existing work. Focus on the Library page firstâ€”it's the most critical missing piece. The rest will flow naturally once you have papers to work with.**
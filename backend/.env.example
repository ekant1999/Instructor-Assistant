OPENAI_API_KEY=
LITELLM_MODEL=gpt-5-mini
SUMMARY_PROVIDER=openai

# Canvas integration (optional)
CANVAS_API_URL=
CANVAS_ACCESS_TOKEN=
CANVAS_COURSE_ID=

# Local LLM (Ollama or compatible)
LOCAL_LLM_URL=http://localhost:11434
LOCAL_LLM_MODEL=llama3.1:8b
LOCAL_LLM_TIMEOUT=60

# MCP server for question context uploads
LOCAL_MCP_SERVER_URL=http://127.0.0.1:8020/mcp

# Qwen agent (Ollama)
QWEN_AGENT_MODEL=qwen2.5:7b

# Optional SearXNG instance for web search
SEARXNG_URL=

# For image indexing and captioning
ENABLE_IMAGE_INDEX=true
VISION_CAPTION_ENABLED=true
VISION_CAPTION_MODEL=llava:7b

# ============================================================================
# PostgreSQL Configuration (for pgvector migration)
# ============================================================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://instructor:password@localhost:5432/instructor_assistant

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ============================================================================
# Embedding Configuration
# ============================================================================
# Embedding model (upgraded to all-mpnet-base-v2 for 768D embeddings)
EMBEDDING_MODEL=sentence-transformers/all-mpnet-base-v2
EMBEDDING_DIMENSION=768
EMBEDDING_DEVICE=cpu  # or 'cuda' if GPU available

# ============================================================================
# pgvector Configuration
# ============================================================================
# Vector index type (hnsw, ivfflat, or flat)
PGVECTOR_INDEX_TYPE=hnsw

# HNSW index parameters (only used if PGVECTOR_INDEX_TYPE=hnsw)
# m: number of connections per layer (higher = better recall, more memory)
HNSW_M=16
# ef_construction: size of dynamic candidate list (higher = better quality, slower build)
HNSW_EF_CONSTRUCTION=64
# ef_search: size of dynamic candidate list during search (higher = better recall, slower)
HNSW_EF_SEARCH=40

# ============================================================================
# Search Configuration
# ============================================================================
# Hybrid search alpha weight (0=keyword only, 1=vector only, 0.5=balanced)
HYBRID_SEARCH_ALPHA=0.5

# Default number of search results
DEFAULT_SEARCH_K=10

GROBID_URL=http://127.0.0.1:8070
GROBID_TIMEOUT=45
GROBID_INCLUDE_SUBSECTIONS=1